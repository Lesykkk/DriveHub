{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DriveHub - Home</title>
    <link rel="stylesheet" href="{% static 'styles/base.css' %}">
    <link rel="stylesheet" href="{% static 'styles/header.css' %}">
    <link rel="stylesheet" href="{% static 'styles/footer.css' %}">
    <link rel="stylesheet" href="{% static 'advert/styles/home.css' %}">
    <link rel="stylesheet" href="{% static 'advert/styles/custom-select.css' %}">
</head>
<body>
    {% include "header.html" %}
    
    <div class="home-container">
        <div class="filter-container">
            <div class="filter-row">
                <div class="select-container">
                    {% include "advert/custom-select.html" with select_id="brand-select" placeholder="Марка" options=brand_list %}
                </div>
                <div class="select-container">
                    {% include "advert/custom-select.html" with select_id="model-select" disabled=True placeholder="Модель" %}
                </div>
                <div class="select-container">
                    <input type="number" name="price-from" min="0" step="1" placeholder="Ціна від">
                    <input type="number" name="price-to" min="0" step="1" placeholder="Ціна до">
                </div>
                <div class="select-container">
                    {% now "Y" as year %}
                    <input type="number" name="year-from" min="1900" max="{{ year }}" step="1" placeholder="Рік від">
                    <input type="number" name="year-to" min="1900" max="{{ year }}" step="1" placeholder="Рік до">
                </div>
            </div>
            <div class="filter-row">
                <div class="select-container">
                    {% include "advert/custom-select.html" with select_id="drive-type-select" placeholder="Привід" options=drive_type_list %}
                </div>
                <div class="select-container">
                    {% include "advert/custom-select.html" with select_id="transmission-type-select" placeholder="Коробка передач" options=transmission_type_list %}
                </div>
                <div class="select-container">
                    {% include "advert/custom-select.html" with select_id="drive-type-select" placeholder="Регіон" options=region_list %}
                </div>
                <div class="select-container">
                    <input type="number" name="millage-from" min="0" step="1" placeholder="Пробіг від">
                    <input type="number" name="millage-to" min="0" step="1" placeholder="Пробіг до">
                </div>
            </div>
            <div class="filter-row">
                <div class="select-container">
                    {% include "advert/custom-select.html" with select_id="body-type-select" placeholder="Кузов" options=body_type_list %}
                </div>
                <div class="select-container">
                    {% include "advert/custom-select.html" with select_id="fuel-type-select" placeholder="Паливо" options=fuel_type_list %}
                </div>
                <div class="select-container">
                        <a class="submit-btn advanced-search-btn" type="submit" href="{% url 'advert:advanced-filters' %}">
                            <img src="{% static 'advert/icons/form-adding.svg' %}" alt="">
                            Розширений пошук
                        </a>
                    
                </div>
                <div class="select-container">
                    <a class="submit-btn" type="submit">
                        Показати пропозиції
                    </a>
                </div>
            </div>
        </div>
        <span class="cards-grid-title">Останні оголошення</span>
        <div class="cards-grid">
            {% for advert in advert_list %}
                <a href="{% url 'advert:advert-detail' advert.slug %}" class="car-card">
                    <img class="card-img" src="{{ advert.transport.photos.all.0.image.url }}">
                    <div class="card-description-container">
                        <span class="card-price">{{ advert.price }} $</span>
                        <span class="card-title"> {{advert.transport.brand_model.brand.value}} {{advert.transport.brand_model.model.value}} {{advert.transport.year}}</span>
                        <span class="card-text">{{advert.transport.year}}, {{ advert.transport.mileage }}km</span>
                    </div>
                </a>
            {% endfor %}

            
        </div>
    </div>
    
    {% include "footer.html" %}

    <script src="{% static 'advert/scripts/home.js' %}"></script>
    <script src="{% static 'advert/scripts/custom-select.js' %}"></script>
</body>
</html>